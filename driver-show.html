<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formula 1 drivers</title>
    <link href="./output.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.17/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Orbitron', sans-serif;
        }

        .table-font {
            font-family: 'Roboto';
        }
    </style>
</head>

<body class="bg-center" style="background-image: url('https://hellof1.netlify.app/img/background.1bf89f69.png');">
    <nav class="bg-red-600 text-white py-4 flex justify-between items-center p-5">
        <a href="races.html" class="mx-4 hover:text-gray-200">Races</a>
        <a href="drivers.html" class="mx-4 hover:text-gray-200">Drivers</a>
        <a href="teams.html" class="mx-4 hover:text-gray-200">Teams</a>
    </nav>

    <section class="w-full max-w-screen-lg mx-auto px-4 Z-8 mt-10">
        <div id="driver-details" class="driver-details"></div>
    </section>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const driverId = urlParams.get('driverId');

        // Fetch driver data using the driver ID
        async function fetchDriverDetails() {
            const apiUrl = `https://ergast.com/api/f1/current/drivers/${driverId}.json`;

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                const data = await response.json();
                displayDriverDetails(data.MRData.DriverTable.Drivers[0]);
            } catch (error) {
                console.error('Failed to fetch driver details:', error);
            }
        }

        // Display driver details on the page
        function displayDriverDetails(driver) {
            const driverDetailsContainer = document.getElementById('driver-details');

            driverDetailsContainer.innerHTML = `
            <div class="relative">
                <h2 class="absolute bottom-0 left-0 bg-red-600 text-white px-4 py-2 font-bold">${driver.givenName} ${driver.familyName}</h2>
            </div>
            <p><strong>Nationality:</strong> ${driver.nationality}</p>
            <p><strong>Race number:</strong> <span style="font-family: 'Racing Sans One', sans-serif; font-size: 24px;">${driver.permanentNumber}</span></p>
            <p><strong>Born:</strong> ${driver.dateOfBirth}</p>`;
        }

        document.addEventListener('DOMContentLoaded', fetchDriverDetails);
    </script>
</body>

</html>